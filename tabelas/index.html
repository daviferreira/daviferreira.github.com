<!doctype html>
<html>
  <head>
    <title>Manipulando tabelas com jQuery</title>
    <meta charset="utf-8" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script src="jquery.tablesorter.min.js"></script>
    <script src="jquery.tablesorter.pager.js"></script>
		<link rel="stylesheet" href="custom.css" media="screen" />
  </head>
  <body>
    
    <h1>Tabelas & jQuery</h1>
    
    <form method="post" action="exemplo.html" id="frm-filtro">
      <p>
        <label for="pesquisar">Pesquisar</label>
        <input type="text" id="pesquisar" name="pesquisar" size="30" />
      </p>
    </form>
    
    <table cellspacing="0" summary="Tabela de dados fictícios">
      <thead>
        <tr>
          <th><input type="checkbox" value="1" id="marcar-todos" name="marcar-todos" /></th>
          <th>ID</th>
          <th>Nome</th>
          <th>Data de nascimento</th>
          <th>Cidade</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="checkbox" value="1" name="marcar[]" /></td>
					<td>1</td>
          <td>Masuki Oki</td>
          <td>11/06/1949</td>
          <td>Tokyo</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="2" name="marcar[]" /></td>
					<td>2</td>
          <td>Hanazom Senshik</td>
          <td>21/08/1933</td>
          <td>Yokohama</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="3" name="marcar[]" /></td>
					<td>3</td>
          <td>Renoyok Suko</td>
          <td>16/11/1939</td>
          <td>Osaka</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="4" name="marcar[]" /></td>
					<td>4</td>
          <td>Aka Akume</td>
          <td>26/11/1972</td>
          <td>Nagoya</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="5" name="marcar[]" /></td>
					<td>5</td>
          <td>Chobo Shizue</td>
          <td>10/06/1953</td>
          <td>Sapporo</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="6" name="marcar[]" /></td>
					<td>6</td>
          <td>Mino Ume-hiz</td>
          <td>07/12/1946</td>
          <td>Kobe</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="7" name="marcar[]" /></td>
					<td>7</td>
          <td>Tsukawa Seno</td>
          <td>08/04/1948</td>
          <td>Kyoto</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="8" name="marcar[]" /></td>
					<td>8</td>
          <td>Sae Teiko</td>
          <td>15/05/1972</td>
          <td>Fukuoka</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="9" name="marcar[]" /></td>
					<td>9</td>
          <td>Senshi Towiko</td>
          <td>14/07/1977</td>
          <td>Kawasaki</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="10" name="marcar[]" /></td>
					<td>10</td>
          <td>Wakozak Chobo</td>
          <td>13/08/1947</td>
          <td>Saitama</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="11" name="marcar[]" /></td>
					<td>11</td>
          <td>Masagam Jun</td>
          <td>01/12/1969</td>
          <td>Hiroshima</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="12" name="marcar[]" /></td>
					<td>12</td>
          <td>Cho Yukinoe</td>
          <td>13/08/1948</td>
          <td>Sendai</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="13" name="marcar[]" /></td>
					<td>13</td>
          <td>Takogo Kibu</td>
          <td>15/02/1942</td>
          <td>Kitakyushu</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="14" name="marcar[]" /></td>
					<td>14</td>
          <td>Akawa Yame</td>
          <td>21/12/1937</td>
          <td>Saitama</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="15" name="marcar[]" /></td>
					<td>15</td>
          <td>Sako Nazome</td>
          <td>16/03/1961</td>
          <td>Hiroshima</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="1" name="marcar[]" /></td>
					<td>16</td>
          <td>Masuki Oki</td>
          <td>11/06/1949</td>
          <td>Tokyo</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="2" name="marcar[]" /></td>
					<td>17</td>
          <td>Hanazom Senshik</td>
          <td>21/08/1933</td>
          <td>Yokohama</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="3" name="marcar[]" /></td>
					<td>18</td>
          <td>Renoyok Suko</td>
          <td>16/11/1939</td>
          <td>Osaka</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="4" name="marcar[]" /></td>
					<td>19</td>
          <td>Aka Akume</td>
          <td>26/11/1972</td>
          <td>Nagoya</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="5" name="marcar[]" /></td>
					<td>20</td>
          <td>Chobo Shizue</td>
          <td>10/06/1953</td>
          <td>Sapporo</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="6" name="marcar[]" /></td>
					<td>21</td>
          <td>Mino Ume-hiz</td>
          <td>07/12/1946</td>
          <td>Kobe</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="7" name="marcar[]" /></td>
					<td>22</td>
          <td>Tsukawa Seno</td>
          <td>08/04/1948</td>
          <td>Kyoto</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="8" name="marcar[]" /></td>
					<td>23</td>
          <td>Sae Teiko</td>
          <td>15/05/1972</td>
          <td>Fukuoka</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="9" name="marcar[]" /></td>
					<td>24</td>
          <td>Senshi Towiko</td>
          <td>14/07/1977</td>
          <td>Kawasaki</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="10" name="marcar[]" /></td>
					<td>25</td>
          <td>Wakozak Chobo</td>
          <td>13/08/1947</td>
          <td>Saitama</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="11" name="marcar[]" /></td>
					<td>26</td>
          <td>Masagam Jun</td>
          <td>01/12/1969</td>
          <td>Hiroshima</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="12" name="marcar[]" /></td>
					<td>27</td>
          <td>Cho Yukinoe</td>
          <td>13/08/1948</td>
          <td>Sendai</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="13" name="marcar[]" /></td>
					<td>28</td>
          <td>Takogo Kibu</td>
          <td>15/02/1942</td>
          <td>Kitakyushu</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="14" name="marcar[]" /></td>
					<td>29</td>
          <td>Akawa Yame</td>
          <td>21/12/1937</td>
          <td>Saitama</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>
        <tr>
          <td><input type="checkbox" value="15" name="marcar[]" /></td>
					<td>30</td>
          <td>Sako Nazome</td>
          <td>16/03/1961</td>
          <td>Hiroshima</td>
          <td>
            <a href="#"><img src="edit.png" width="16" height="16" /></a>
            <a href="#"><img src="delete.png" width="16" height="16" /></a>
          </td>
        </tr>    
      </tbody>
    </table>
    
    <div id="pager" class="pager">
    	<form>
				<span>
					Exibir <select class="pagesize">
							<option selected="selected"  value="10">10</option>
							<option value="20">20</option>
							<option value="30">30</option>
							<option  value="40">40</option>
					</select> registros
				</span>

				<img src="first.png" class="first"/>
    		<img src="prev.png" class="prev"/>
    		<input type="text" class="pagedisplay"/>
    		<img src="next.png" class="next"/>
    		<img src="last.png" class="last"/>
    	</form>
    </div>
    
    <script>
    $(function(){
      
      $('table > tbody > tr:odd').addClass('odd');
      
      $('table > tbody > tr').hover(function(){
        $(this).toggleClass('hover');
      });
      
      $('#marcar-todos').click(function(){
        $('table > tbody > tr > td > :checkbox')
          .attr('checked', $(this).is(':checked'))
          .trigger('change');
      });
      
      $('table > tbody > tr > td > :checkbox').bind('click change', function(){
        var tr = $(this).parent().parent();
        if($(this).is(':checked')) $(tr).addClass('selected');
        else $(tr).removeClass('selected');
      });
      
      $('form').submit(function(e){ e.preventDefault(); });
      
      $('#pesquisar').keydown(function(){
        var encontrou = false;
        var termo = $(this).val().toLowerCase();
        $('table > tbody > tr').each(function(){
          $(this).find('td').each(function(){
            if($(this).text().toLowerCase().indexOf(termo) > -1) encontrou = true;
          });
          if(!encontrou) $(this).hide();
          else $(this).show();
          encontrou = false;
        });
      });
      
      $("table") 
        .tablesorter({
          dateFormat: 'uk',
          headers: {
            0: {
              sorter: false
            },
            5: {
              sorter: false
            }
          }
        }) 
        .tablesorterPager({container: $("#pager")})
        .bind('sortEnd', function(){
          $('table > tbody > tr').removeClass('odd');
          $('table > tbody > tr:odd').addClass('odd');
        });
      
    });
    </script>
  </body>
</html>
